<!DOCTYPE html>
<html>
<head>
  <style>
    #the-canvas {
      border: none;
      background: #000;
      width: 500px;
      height: 500px
    }
  </style>
  <script>
    // Here's the plan:
    // 1) Create a canvas
    // 2) Get the 3D context
    // 3) Initialize Viewport
    // 4) Create buffers
    // 5) Create transforms 
    // 6) Create shaders
    // 7) Init shaders
    // 8) Draw stuff

    // Initialize the 3D context and return it for later use
    // @param canvas - the canvas on the page
    // @return the initialized WebGL context
    function initWebGl(canvas) {
      var gl;
      try {
        // Just like before when you grabbed the '2D' context from the canvas, WebGL needs a special context to draw to
        gl = canvas.getContext('experimental-webgl');
        console.log("WebGL context successfully initialized!");
      } catch (e) {
        var errorMsg = "Error when trying to create WebGL context: " + e.toString();
        alert(errorMsg);
        throw Error(errorMsg);
      }
      return gl;
    }

    // Initialize the viewport for the WebGL context
    // @param gl - the WebGL context
    // @param canvas - the canvas on the page
    function initViewport(gl, canvas) {
      // This says from (0,0) to the width & height of the canvas
      gl.viewport(0, 0, canvas.width, canvas.height);
    }

    function start() {
      var canvas = document.getElementById('the-canvas');
      var gl = initWebGl(canvas);
      initViewport(gl, canvas);
    }

  </script>
</head>
<body onload="start()">
  <div id="canvas-container">
    <canvas id="the-canvas"></canvas>
  </div>
</body>
</html>
